<!DOCTYPE html>
<html>
	<head>
		<title>Student</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
		<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" 		crossorigin="anonymous"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
	</head>
	<body>
		<h1>Student</h1>
		<p>Open a console and then click the button</p>
		<input type="button" value="Display student's data">
		<p id="personalData"></p>
		<script>

			function display() {

				var xhr = new XMLHttpRequest();
				xhr.onreadystatechange = function () {
					if (this.readyState === 4 && this.status === 200) {
						let item = JSON.parse(xhr.response)[0];
						document.getElementById("personalData").innerHTML = `My name is: ${item.name} ${item.surname}`;
					}
					removeEventListener('click', display);
				}

				xhr.open( 'GET', 'https://raw.githubusercontent.com/pniedziela/bai/master/04-JSON%26DataTransfer/personalData.json');
				xhr.send();
			};
			addEventListener('click', display);

		</script>

	</body>
</html>
